#version 450
#extension GL_GOOGLE_include_directive : require
#include "sky.h"

layout(set = 0, binding = 1, rgba32f) uniform image2D transmittance;
void main() {
  ivec2 coord = ivec2(gl_GlobalInvocationID.xy);
  vec3 result = ComputeTransmittanceToTopAtmosphereBoundaryTexture(
    ATMOSPHERE, coord + vec2(0.5, 0.5));

  imageStore(transmittance, coord, vec4(result, 0));
}